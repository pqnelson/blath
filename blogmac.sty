\usepackage{graphics}
\DeclareGraphicsRule{*}{mps}{*}{}
\usepackage{amsthm}
\usepackage{enumitem}
\setlist{topsep=0pt,noitemsep}
\usepackage{manfnt}
\newcounter{chunk@ctr}

\usepackage{titlesec}
\titleformat*{\section}{\Large\bfseries\sffamily}
\titleformat*{\subsection}{\large\bfseries\sffamily}
\titleformat*{\subsubsection}{\bfseries\sffamily}

\newtheoremstyle{thmstyle}
  {\topsep}   % ABOVESPACE
  {\topsep}   % BELOWSPACE
  {\itshape}  % BODYFONT
  {0pt}       % INDENT (empty value is the same as 0pt)
  {\bfseries} % HEADFONT
  {.}         % HEADPUNCT
  {0.5em plus 1pt minus 1pt} % HEADSPACE
  {\thmnumber{#2\@addpunct{.}\enspace}\thmname{#1}\thmnote{\enspace\textrm{\normalfont(#3)}}}          % CUSTOM-HEAD-SPEC
\newtheoremstyle{defnstyle}
  {\topsep}   % ABOVESPACE
  {\topsep}   % BELOWSPACE
  {}          % BODYFONT
  {0pt}       % INDENT (empty value is the same as 0pt)
  {\bfseries} % HEADFONT
  {.}         % HEADPUNCT
  {0.5em plus 1pt minus 1pt} % HEADSPACE
  {\thmnumber{#2\@addpunct{.}\enspace}\thmname{#1}\thmnote{\enspace\textrm{\normalfont(#3)}}}          % CUSTOM-HEAD-SPEC
\newtheoremstyle{rmkstyle}
  {\topsep}   % ABOVESPACE
  {\topsep}   % BELOWSPACE
  {}          % BODYFONT
  {0pt}       % INDENT (empty value is the same as 0pt)
  {\itshape} % HEADFONT
  {.}         % HEADPUNCT
  {0.5em plus 1pt minus 1pt} % HEADSPACE
  {\thmnumber{#2\@addpunct{.}\enspace}\thmname{#1}\thmnote{\enspace\textrm{\normalfont(#3)}}}

\theoremstyle{thmstyle}
\newtheorem{theorem}[chunk@ctr]{Theorem}
\newtheorem{proposition}[chunk@ctr]{Proposition}
\newtheorem{corollary}[chunk@ctr]{Corollary}
\newtheorem{lemma}[chunk@ctr]{Lemma}
\newtheorem{conjecture}[chunk@ctr]{Conjecture}

\theoremstyle{plain}
\newtheorem{puzzle}{Puzzle}

\theoremstyle{defnstyle}
\newtheorem{definition}[chunk@ctr]{Definition}
\newtheorem{example}[chunk@ctr]{Example}
% \newtheorem{axiom}{Axiom}
\newtheorem{problem}[chunk@ctr]{Problem}
\newtheorem{question}[chunk@ctr]{Question}

\theoremstyle{definition}
\newtheorem{exercise}{\llap{\mantriangleright\kern.15em}Exercise}

\theoremstyle{rmkstyle}
\newtheorem{remark}{Remark}[chunk@ctr]
\newtheorem{claim}[chunk@ctr]{Claim}

\newcommand\define[1]{\textbf{``#1''}}


\@ifundefined{@addpunct}{
  \def\@addpunct#1{\ifnum\spacefactor>\@m \else#1\fi}
  }{}


\newcommand\M{\medbreak\noindent%
  \refstepcounter{chunk@ctr}%
  \textbf{\thechunk@ctr\@addpunct{.}}\quad\ignorespaces}

% deprecated macro:
% \newcommand\N[1]{\M\textbf{#1\@addpunct{.}}\quad\ignorespaces}

% superior implementation:

\def\N{\@ifstar
        \NStar%
        \NNoStar%
}
\def\NStar#1{\medbreak\noindent\textbf{#1\@addpunct{.}\quad}\ignorespaces}
\def\NNoStar#1{\M\textbf{#1\@addpunct{.}\quad}\ignorespaces}

% permits writing \N*{Un-numbered chunk} for a chunk
% without a numeric label!